#!/bin/bash

echo "--- Starting Services for SOAR Tutorial ---"

# 1. Start the Docker service. This needs to be running in the background.
echo "Starting Docker daemon..."
sudo service docker start
sleep 5 # Give the daemon a moment to initialize.

# 2. Start the Flask web application in the background.
echo "Starting Flask API server in the background (see flask.log)..."
python3 app/app.py > flask.log 2>&1 &
sleep 2 # Give the Flask server a moment to start up.

echo ""
echo "Environment is ready!"
echo ""

# 3. Hand over control to the user in an interactive bash shell.
exec /bin/bash